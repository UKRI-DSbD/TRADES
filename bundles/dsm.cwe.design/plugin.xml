<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
  <extension point="org.eclipse.sirius.componentization">
    <component class="dsm.cwe.design.Activator"
               id="dsm.cwe.design"
	       name="cwe">
    </component>
  </extension>
  <extension
        point="org.eclipse.ui.navigator.navigatorContent">
     <actionProvider
           class="dsm.cwe.design.actions.OscalActionProvider"
           id="dsm.cwe.design.actions.OscalActionProvider"
           priority="normal">
        <enablement>
           <or>
              <instanceof
                    value="org.eclipse.sirius.ui.tools.api.views.common.item.CommonSessionItem">
              </instanceof>
              <instanceof
                    value="org.eclipse.emf.ecore.EObject">
              </instanceof>
              <instanceof
                    value="org.eclipse.emf.ecore.resource.Resource">
              </instanceof>
              <adapt
                    type="org.eclipse.core.resources.IProject">
                 <test
                       property="org.eclipse.core.resources.projectNature"
                       value="org.eclipse.sirius.nature.modelingproject">
                 </test>
              </adapt>
              <and>
                 <instanceof
                       value="org.eclipse.core.resources.IFile">
                 </instanceof>
                 <test
                       forcePluginActivation="true"
                       property="org.eclipse.sirius.ui.isFileForSessionTester">
                 </test>
              </and>
              <and>
                 <not>
                    <adapt
                          type="org.eclipse.core.resources.IProject">
                       <test
                             property="org.eclipse.core.resources.projectNature"
                             value="org.eclipse.sirius.nature.modelingproject">
                       </test>
                    </adapt>
                 </not>
                 <instanceof
                       value="org.eclipse.core.resources.IFile">
                 </instanceof>
                 <test
                       forcePluginActivation="true"
                       property="org.eclipse.sirius.ui.isSemanticResourceFileTester">
                 </test>
              </and>
              <adapt
                    type="org.eclipse.core.resources.IFolder">
              </adapt>
           </or>
        </enablement>
     </actionProvider>
     <commonWizard
           type="export"
           wizardId="dsm.cwe.design.exportToXML">
        <enablement></enablement>
     </commonWizard>
     <commonWizard
           type="new"
           wizardId="dsm.cwe.design.cwecatalog.wizard">
        <enablement></enablement>
     </commonWizard>
     <commonWizard
           type="import"
           wizardId="dsm.cwe.design.importcwecatalog">
        <enablement></enablement>
     </commonWizard>
     <commonWizard
           type="import"
           wizardId="dsm.cwe.design.importcwecatalog">
        <enablement></enablement>
     </commonWizard>
  </extension>
  <extension
        point="org.eclipse.ui.navigator.viewer">
     <viewerActionBinding
           viewerId="org.eclipse.sirius.ui.tools.views.model.explorer">
        <includes>
           <actionExtension
                 pattern="dsm.cwe.design.actions.OscalActionProvider">
           </actionExtension>
        </includes>
     </viewerActionBinding>
  </extension>
  <extension
        point="org.eclipse.ui.importWizards">
     <wizard
           category="dsm.TRADES.rcp.import"
           class="dsm.cwe.design.wizards.ImportEmbeddedCatalogWizard"
           icon="icons/bookmarks_view.png"
           id="dsm.cwe.design.importcwecatalog"
           name="Import OSCAL Catalog">
        <selection
              class="org.eclipse.core.resources.IProject">
        </selection>
        <description>
           Import an embedded OSCAL library
        </description>
     </wizard>
  </extension>
  <extension
        point="org.eclipse.ui.importWizards">
     <wizard
           category="dsm.TRADES.rcp.import"
           class="dsm.cwe.design.wizards.ImportEmbeddedCWECatalogWizard"
           icon="icons/bookmarks_view.png"
           id="dsm.cwe.design.importcwecatalog"
           name="Import MITRE CWE Catalog">
        <selection
              class="org.eclipse.core.resources.IProject">
        </selection>
        <description>
           Import an embedded MITRE CWE library
        </description>
     </wizard>
  </extension>
  <extension
        point="org.obeonetwork.m2doc.ide.servicesConfigurator">
     <servicesConfigurators
           class="dsm.cwe.design.m2doc.OscalM2DocService">
     </servicesConfigurators>
  </extension>
  <extension
        point="org.eclipse.ui.newWizards">
     <wizard
           canFinishEarly="false"
           category="dsm.TRADES.wizardCat"
           class="dsm.cwe.design.wizards.NewOscalCatalogWizard"
           descriptionImage="icons/bookmarks_view.png"
           hasPages="true"
           icon="icons/bookmarks_view.png"
           id="dsm.cwe.design.cwecatalog.wizard"
           name="Oscal Catalog">
     </wizard>
  </extension>
  <extension
        point="org.eclipse.ui.perspectiveExtensions">
     <perspectiveExtension
           targetID="dsm.TRADES.rcp.perspective">
        <newWizardShortcut
              id="dsm.cwe.design.cwecatalog.wizard">
        </newWizardShortcut>
     </perspectiveExtension>
  </extension>
  <extension
        point="org.eclipse.ui.exportWizards">
     <wizard
           category="dsm.TRADES.rcp.export"
           class="dsm.cwe.design.wizards.ExpotToOscalXMLWizard"
           icon="icons/bookmarks_view.png"
           id="dsm.cwe.design.exportToXML"
           name="Export Catalog to OSCAL Format">
     </wizard>
  </extension>
</plugin>
